# Как локализовать интерфейс TrackStudio

В настоящее время TrackStudio поставляется с тремя локализациями: на русском, английском и украинском языке. Исходным для всех текстов является русский язык (в версиях до 4.0 это был английский). Примеры баз данных также поставляются локализованными; при создании базы данных вы можете выбрать нужный язык. Данный документ предназначен для тех, кто планирует перевести интерфейс TrackStudio на один из неподдерживаемых в настоящее время языков. Другим пользователям эта статья может пригодиться для того, чтобы изменить используемую в TrackStudio терминологию на используемую в их подразделениях.

Собственно локализация - это не только тексты, которые мы видим на экране, но и, например, форматы дат, времени и чисел. TrackStudio использует стандартный механизм локализации Java, основанный на *MessageFormat* и *NumberFormat*. Для каждого пользователя TrackStudio могут быть заданы локаль и часовой пояс; эти данные будут использоваться для вывода всех дат и времени, как в веб-интерфейсе, так и, например, в почтовых уведомлениях.

Для разных языков также могут потребоваться разные кодировки. Мы рекомендуем использование интернациональной кодировки UTF-8, но, при желании, вы можете включить и Windows-1251, и Latin1. Кодировка указывается для всего экземпляра TrackStudio. Вы можете сделать это с помошью утилиты "**Управление сервером TrackStudio**" (**SMAN**), либо задать кодировку в файле trackstudio.properties.

# language-файлы

Весь текст, выводимый TrackStudio, хранится в файлах **etc/language/language_xx.properties**, где xx - двухбуквенный индекс языка в соответствии с ISO-639 (ru, en, uk). В этих файлах текст хранится в виде пар ключ-значение.

Для того, чтобы перевести текст TrackStudio на другой язык

- Скопируйте исходный файл в новый language_xx.properties, соответствующий вашему языку

- Переведите содержимое файла (названия ключей переводить, естественно, не нужно). Конечный файл должен быть в формате ASCII, поэтому, если вам нужно использовать специальные символы (например, буквы русского языка), вам придется преобразовывать файл с помощью специальной утилиты native2ascii, поставляемой с JDK.

```
native2ascii -encoding utf-8 my_translation.properties language_ru1.properties
```

- Скопируйте файл language_ru1.properties в директорию **webapps/TrackStudio/WEB-INF/classes**

- В trackstudio.properties измените опцию trackstudio.defaultLocale

```
trackstudio.defaultLocale ru1
```

- Выберите свою локализацию в настройках пользователя

![](../images/def_locale.PNG)
